<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.store.mapper.StoreShouyinRecordMapper">

    <select id="statistics" resultType="map" parameterType="map">
                    SELECT
                SUM( settlement_amount ) AS totalSettlementAmount,
                SUM( pay_price ) AS totalPayPrice,
                sum(welfare_payments) as totalWelfarePayments
            FROM
                store_shouyin_record
            WHERE
                del_flag = '0'
                AND store_manage_id=#{paramMap.storeManageId}
                <if test="paramMap.year!=null and paramMap.year!=''">
                    AND `year` = #{paramMap.year}
                </if>
                <if test="paramMap.month!=null and paramMap.month!=''">
                    AND `month` = #{paramMap.month}
                </if>
                <if test="paramMap.day!=null and paramMap.day!=''">
                    AND `day` = #{paramMap.day}
                </if>
    </select>
</mapper>