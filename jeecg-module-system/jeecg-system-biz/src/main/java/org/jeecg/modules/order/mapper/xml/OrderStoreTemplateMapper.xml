<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.order.mapper.OrderStoreTemplateMapper">
    <select id="getOrderStoreTemplateMaps" resultType="map" >
        SELECT opt.id,
        su.realname AS sysUserName,
        opt.template_name AS name,
        opt.charge_mode AS chargeMode,
        opt.ship_fee AS shipFee,
        opt.accounting_rules AS accountingRules,
        opt.quantity AS goodCount,
        ossl.distribution as distribution
        FROM`order_store_template` opt LEFT JOIN   sys_user su ON su.id = opt.sys_user_id
        left join order_store_sub_list ossl on ossl.id = opt.order_store_sub_list_id
        WHERE opt.del_flag = 0
        <if test="orderStoreSubListIdList!=null and orderStoreSubListIdList.size > 0 ">
            and  opt.order_store_sub_list_id in
            <foreach collection="orderStoreSubListIdList" item="orderStoreSubListId" separator="," open="(" close=")">
                #{orderStoreSubListId}
            </foreach>
        </if>
        order BY  opt.create_time desc
    </select>
</mapper>